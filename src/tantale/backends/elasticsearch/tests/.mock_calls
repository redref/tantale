{"kwargs": {"body": "{\"search_type\": \"count\", \"type\": \"host\", \"index\": \"status\"}\n{\"filter\": {\"and\": [{\"range\": {\"status\": {\"gte\": 0}}}]}}\n{\"search_type\": \"count\", \"type\": \"host\", \"index\": \"status\"}\n{\"filter\": {\"and\": [{\"range\": {\"status\": {\"gte\": 0}}}, {\"and\": [{\"range\": {\"status\": {\"gt\": 0}}}, {\"or\": [{\"not\": {\"exists\": {\"field\": \"downtime\"}}}, {\"term\": {\"downtime\": 0}}]}]}]}}\n{\"search_type\": \"count\", \"type\": \"host\", \"index\": \"status\"}\n{\"filter\": {\"and\": [{\"range\": {\"status\": {\"gte\": 0}}}, {\"and\": [{\"range\": {\"status\": {\"gt\": 0}}}, {\"or\": [{\"not\": {\"exists\": {\"field\": \"downtime\"}}}, {\"term\": {\"downtime\": 0}}]}]}, {\"and\": [{\"range\": {\"status\": {\"gt\": 0}}}, {\"or\": [{\"not\": {\"exists\": {\"field\": \"downtime\"}}}, {\"term\": {\"downtime\": 0}}]}, {\"or\": [{\"not\": {\"exists\": {\"field\": \"ack\"}}}, {\"term\": {\"ack\": 0}}]}]}]}}\n"}, "method": "msearch"}
{"kwargs": {"body": "{\"type\": \"host\", \"index\": \"status\"}\n{\"filter\": {\"and\": [{\"or\": [{\"not\": {\"exists\": {\"field\": \"downtime\"}}}, {\"term\": {\"downtime\": 0}}]}, {\"or\": [{\"not\": {\"exists\": {\"field\": \"ack\"}}}, {\"term\": {\"ack\": 0}}]}, {\"not\": {\"term\": {\"status\": 0}}}]}}\n"}, "method": "msearch"}
{"kwargs": {"body": "{\"search_type\": \"count\", \"type\": \"service\", \"index\": \"status\"}\n{\"filter\": {\"and\": [{\"range\": {\"status\": {\"gte\": 0}}}]}}\n{\"search_type\": \"count\", \"type\": \"service\", \"index\": \"status\"}\n{\"filter\": {\"and\": [{\"range\": {\"status\": {\"gte\": 0}}}, {\"and\": [{\"range\": {\"status\": {\"gt\": 0}}}, {\"or\": [{\"not\": {\"exists\": {\"field\": \"downtime\"}}}, {\"term\": {\"downtime\": 0}}]}, {\"has_parent\": {\"type\": \"host\", \"filter\": {\"or\": [{\"not\": {\"exists\": {\"field\": \"downtime\"}}}, {\"term\": {\"downtime\": 0}}]}}}, {\"has_parent\": {\"type\": \"host\", \"filter\": {\"term\": {\"status\": 0}}}}]}]}}\n{\"search_type\": \"count\", \"type\": \"service\", \"index\": \"status\"}\n{\"filter\": {\"and\": [{\"range\": {\"status\": {\"gte\": 0}}}, {\"and\": [{\"range\": {\"status\": {\"gt\": 0}}}, {\"or\": [{\"not\": {\"exists\": {\"field\": \"downtime\"}}}, {\"term\": {\"downtime\": 0}}]}, {\"has_parent\": {\"type\": \"host\", \"filter\": {\"or\": [{\"not\": {\"exists\": {\"field\": \"downtime\"}}}, {\"term\": {\"downtime\": 0}}]}}}, {\"has_parent\": {\"type\": \"host\", \"filter\": {\"term\": {\"status\": 0}}}}]}, {\"and\": [{\"range\": {\"status\": {\"gt\": 0}}}, {\"or\": [{\"not\": {\"exists\": {\"field\": \"downtime\"}}}, {\"term\": {\"downtime\": 0}}]}, {\"has_parent\": {\"type\": \"host\", \"filter\": {\"or\": [{\"not\": {\"exists\": {\"field\": \"downtime\"}}}, {\"term\": {\"downtime\": 0}}]}}}, {\"or\": [{\"not\": {\"exists\": {\"field\": \"ack\"}}}, {\"term\": {\"ack\": 0}}]}, {\"has_parent\": {\"type\": \"host\", \"filter\": {\"term\": {\"status\": 0}}}}]}]}}\n"}, "method": "msearch"}
{"kwargs": {"body": "{\"type\": \"service\", \"index\": \"status\"}\n{\"filter\": {\"and\": [{\"not\": {\"term\": {\"status\": 0}}}, {\"or\": [{\"not\": {\"exists\": {\"field\": \"ack\"}}}, {\"term\": {\"ack\": 0}}]}, {\"and\": [{\"or\": [{\"not\": {\"exists\": {\"field\": \"downtime\"}}}, {\"term\": {\"downtime\": 0}}]}, {\"has_parent\": {\"type\": \"host\", \"filter\": {\"or\": [{\"not\": {\"exists\": {\"field\": \"downtime\"}}}, {\"term\": {\"downtime\": 0}}]}}}]}, {\"not\": {\"has_parent\": {\"type\": \"host\", \"filter\": {\"term\": {\"status\": 1}}}}}, {\"not\": {\"has_parent\": {\"type\": \"host\", \"filter\": {\"term\": {\"status\": 2}}}}}]}}\n"}, "method": "msearch"}
{"kwargs": {"body": "{\"_type\": \"event\", \"index\": \"status_logs-*\"}\n{\"filter\": {\"and\": [{\"range\": {\"timestamp\": {\"gte\": 1458322984}}}]}}\n"}, "method": "msearch"}
{"kwargs": {"body": "{\"doc\": {\"downtime\": 1}}", "doc_type": "host", "id": "local1", "index": "status"}, "method": "update"}
{"kwargs": {"body": "{\"doc\": {\"downtime\": 1}}", "doc_type": "service", "id": "local2-Service", "index": "status", "parent": "local2"}, "method": "update"}
{"kwargs": {"body": "{\"doc\": {\"ack\": 1}}", "doc_type": "host", "id": "local1", "index": "status"}, "method": "update"}
{"kwargs": {"body": "{\"doc\": {\"ack\": 1}}", "doc_type": "service", "id": "local2-Service", "index": "status", "parent": "local2"}, "method": "update"}
